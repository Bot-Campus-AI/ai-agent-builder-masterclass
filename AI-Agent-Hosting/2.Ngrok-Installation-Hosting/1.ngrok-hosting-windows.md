
---

# üåê Host Your Agent with ngrok (Windows + n8n)

---

## 1Ô∏è‚É£ Install ngrok (Windows)

1. Go to [https://ngrok.com/download](https://ngrok.com/download)
2. Download **ngrok for Windows (zip file)**.
3. Extract it ‚Üí you‚Äôll get `ngrok.exe`.
4. Place `ngrok.exe` somewhere easy, e.g.:

   ```
   C:\ngrok
   ```
5. Add this folder to your **PATH** (so you can run `ngrok` from any terminal):

   * Press **Win + R**, type `sysdm.cpl`, press Enter.
   * Advanced ‚Üí Environment Variables.
   * Under **System variables**, find `Path` ‚Üí Edit ‚Üí New ‚Üí `C:\ngrok`.
   * Save & restart your terminal (Command Prompt or PowerShell).

---

## 2Ô∏è‚É£ Get Your Authtoken

1. Log in to your ngrok account.
2. Copy your token from here:
   [https://dashboard.ngrok.com/get-started/your-authtoken](https://dashboard.ngrok.com/get-started/your-authtoken)

---

## 3Ô∏è‚É£ Connect ngrok CLI

In **PowerShell** or **Command Prompt**:

```powershell
ngrok config add-authtoken <YOUR_AUTHTOKEN>
```

Verify:

```powershell
ngrok config check
```

‚úÖ Should say: *‚ÄúYour authtoken is properly set up‚Äù*.

---

## 4Ô∏è‚É£ Start the Tunnel

Since n8n runs at `http://localhost:5678`, run:

```powershell
ngrok http 5678
```

You‚Äôll see:

```
Forwarding    https://abc123.ngrok-free.app -> http://localhost:5678
```

üëâ This `https://abc123.ngrok-free.app` is your **public URL**.
Keep this terminal window **open** (if you close it, the tunnel stops).

---

## 5Ô∏è‚É£ Create a Simple Agent Workflow in n8n

1. **Webhook Node**

   * Method: `POST`
   * Path: `agent`
   * Response: *Last Node*
   * Production URL will be:

     ```
     https://<your-ngrok>.ngrok-free.app/webhook/agent
     ```

2. **AI Agent Node**

   * User input: `{{ $json.message }}`
   * System prompt:

     ```
     You are a helpful assistant for BotCampus AI. Keep replies short and clear.
     ```

3. **OpenRouter Chat Model Node**

   * Model: `mistralai/mistral-tiny`
   * API Key: your OpenRouter key
   * Connect it to the AI Agent‚Äôs **Model** port.

4. **Respond to Webhook Node**

   * Response body: `{{ $json.text || $json.output }}`
   * Connect AI Agent ‚Üí Respond to Webhook.

5. Save workflow ‚Üí click **Activate** (important, else only test URL works).

---

## 6Ô∏è‚É£ Test it Live

---

# üß™ Test Your n8n Agent in Postman (Windows or macOS)

---

## 1Ô∏è‚É£ Copy Your ngrok URL

From the ngrok terminal, grab the HTTPS forwarding URL:

```
Forwarding    https://abc123.ngrok-free.app -> http://localhost:5678
```

üëâ Your full agent endpoint is:

```
https://abc123.ngrok-free.app/webhook/agent
```

---

## 2Ô∏è‚É£ Open Postman

* Click **+ New Tab** ‚Üí choose **POST**.
* In the request URL field, paste your ngrok URL with `/webhook/agent`.

Example:

```
https://abc123.ngrok-free.app/webhook/agent
```

---

## 3Ô∏è‚É£ Set Headers

Go to **Headers** tab and add:

```
Key: Content-Type
Value: application/json
```

---

## 4Ô∏è‚É£ Set Request Body

Go to **Body ‚Üí raw ‚Üí JSON** and paste:

```json
{
  "message": "Introduce Rahul as a Data Engineer in two lines."
}
```

---

## 5Ô∏è‚É£ Send the Request

* Click **Send** (blue button).
* You should see a **200 OK** with the Agent‚Äôs reply (from **Mistral-Tiny via OpenRouter**) in the response window.

Example response:

```json
"Meet Rahul, a skilled Data Engineer who specializes in building robust data pipelines and managing big data systems."
```

---

## 6Ô∏è‚É£ Try More Test Prompts

* Joke:

```json
{ "message": "Tell me a short joke about SQL." }
```

* Math:

```json
{ "message": "What is 23 multiplied by 19?" }
```

* Slack test (if tool connected):

```json
{ "message": "Send a welcome message for Priya to Slack." }
```

---


